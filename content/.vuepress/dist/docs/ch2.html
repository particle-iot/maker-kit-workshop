<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chapter 2: Reading from sensors and posting data to the cloud | Particle Maker Kit Workshop</title>
    <meta name="description" content="Workshops designed to teach the basics of IoT development with the Particle ecosystem &amp; the Particle Photon">
    
    
    <link rel="preload" href="/assets/css/7.styles.78510396.css" as="style"><link rel="preload" href="/assets/js/app.f96e0021.js" as="script"><link rel="preload" href="/assets/js/3.43b75f49.js" as="script"><link rel="prefetch" href="/assets/js/0.a98946f6.js"><link rel="prefetch" href="/assets/js/1.ed1cf747.js"><link rel="prefetch" href="/assets/js/2.ee22b393.js"><link rel="prefetch" href="/assets/js/4.7d8ce466.js"><link rel="prefetch" href="/assets/js/5.d42eafc0.js"><link rel="prefetch" href="/assets/js/6.aeee8a8b.js">
    <link rel="stylesheet" href="/assets/css/7.styles.78510396.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      Particle Maker Kit Workshop
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="http://particle.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Team
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><a href="https://github.com/particle-iot/maker-kit-workshop" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="http://particle.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Team
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><a href="https://github.com/particle-iot/maker-kit-workshop" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/docs/" class="sidebar-link">About Particle Workshops</a></li><li><a href="/docs/ch1.html" class="sidebar-link">Chapter 1: Claiming your device</a></li><li><a href="/docs/ch2.html" class="active sidebar-link">Chapter 2: Reading from sensors and posting data to the cloud</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/ch2.html#wire-up-the-temperature-sensor-to-your-photon" class="sidebar-link">Wire up the temperature sensor to your Photon</a></li><li class="sidebar-sub-header"><a href="/docs/ch2.html#create-a-new-project-in-the-web-ide" class="sidebar-link">Create a new project in the Web IDE</a></li><li class="sidebar-sub-header"><a href="/docs/ch2.html#the-setup-and-loop-functions" class="sidebar-link">The setup() and loop() functions</a></li><li class="sidebar-sub-header"><a href="/docs/ch2.html#install-the-onewire-library" class="sidebar-link">Install the Onewire library</a></li><li class="sidebar-sub-header"><a href="/docs/ch2.html#read-from-the-temperature-sensor" class="sidebar-link">Read from the temperature sensor</a></li><li class="sidebar-sub-header"><a href="/docs/ch2.html#add-particle-primitives-to-your-app" class="sidebar-link">Add Particle primitives to your app</a></li></ul></li><li><a href="/docs/ch3.html" class="sidebar-link">Chapter 3: Connecting the Particle Device Cloud to Azure</a></li><li><a href="/docs/ch4.html" class="sidebar-link">Chapter 4: Visualizing sensor data in the cloud</a></li><li><a href="/docs/ch5.html" class="sidebar-link">Chapter 5: Controlling your devices from the cloud</a></li></ul></div><div class="page"><div class="content"><h1 id="chapter-2-reading-from-sensors-and-posting-data-to-the-cloud"><a href="#chapter-2-reading-from-sensors-and-posting-data-to-the-cloud" aria-hidden="true" class="header-anchor">#</a> Chapter 2: Reading from sensors and posting data to the cloud</h1><table><thead><tr><th><strong>Project Goal</strong></th><th>Start programming your Photon, and leverage the device cloud to take and post sensor readings.</th></tr></thead><tbody><tr><td><strong>What you’ll learn</strong></td><td>How to read sensor data; Using Particle variables and cloud functions.</td></tr><tr><td><strong>Tools you’ll need</strong></td><td>build.particle.io, console.particle.io, a Particle Photon and Maker Kit</td></tr><tr><td><strong>Time needed to complete</strong></td><td>15 minutes</td></tr></tbody></table><p>In this session, we're going to explore the Particle ecosystem via a Photon and Maker Kit. If you get stuck at any point, <a href="https://go.particle.io/shared_apps/5b84477c9a93dd475a0002fa" target="_blank" rel="noopener noreferrer">click here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for the completed source.</p><h2 id="wire-up-the-temperature-sensor-to-your-photon"><a href="#wire-up-the-temperature-sensor-to-your-photon" aria-hidden="true" class="header-anchor">#</a> Wire up the temperature sensor to your Photon</h2><p><img src="/assets/img/temp-circuit.c624832b.jpg" alt></p><p>To build this circuit, you'll need the following items:</p><ul><li>Photon in breadboard (this is how it comes in the Maker Kit)</li><li>Dallas DS18B20 temperature sensor. There are two versions in the Maker Kit. We'll be using the waterproof version terminated in a metal cap.</li><li>Black, red, and yellow jumper wires.</li><li>A 4.7 Ohm Resistor. The maker kit includes four different types of resistors (200, 1k, 4.7k and 10k ohm). The one you need is blue, with yellow, violet, brown and brown bands, as depicted below.</li></ul><p><img src="/assets/img/resistors.f380984c.jpg" alt></p><ol><li>Connect the temperature sensor to three side-by-side rows in the breadboard. You can use column F, rows 28-30, as depicted below, or another three of your choosing.</li></ol><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>If you pick your own location, be sure to connect the three wires in separate rows and <em>NOT</em> separate columns on the same row as rows on a breadboard are electrically connected!</p></div><p><img src="/assets/img/01-connectsensor.2c0fa42e.jpg" alt></p><ol start="2"><li>Connect the resistor between the yellow and red wires of the temperature sensor. In the image below, the resistor is plugged into column H, rows 28 and 29.</li></ol><p><img src="/assets/img/02-connectresistor.be0181db.jpg" alt></p><ol start="3"><li>Connect one end of the black jumper wire to the same row as the black sensor wire (for example, row 30) and the other end to the <code>GND</code> pin of the Photon.</li></ol><p><img src="/assets/img/03-connectblack.e4d93f44.jpg" alt></p><ol start="4"><li>Connect one end of the yellow jumper wire to the same row as the yellow sensor wire (for example, row 29) and the other end to the <code>D4</code> pin of the Photon.</li></ol><p><img src="/assets/img/04-connectyellow.d4f92899.jpg" alt></p><ol start="5"><li>Connect one end of the red jumper wire to the same row as the red sensor wire (for example, row 28) and the other end to the <code>3V3</code> pin of the Photon. Once done, your circuit should look like the image below.</li></ol><p><img src="/assets/img/05-connectred.443741ef.jpg" alt></p><ol start="6"><li>Plug the USB cable into your Photon. Now, we're ready to read some sensor data! Let's create a new project in the <a href="https://build.particle.io" target="_blank" rel="noopener noreferrer">Web IDE<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol><h2 id="create-a-new-project-in-the-web-ide"><a href="#create-a-new-project-in-the-web-ide" aria-hidden="true" class="header-anchor">#</a> Create a new project in the Web IDE</h2><ol><li>Navigate to <a href="http://build.particle.io" target="_blank" rel="noopener noreferrer">build.particle.io<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. You may need to log-in, if prompted.</li></ol><p><img src="/assets/img/login.612397f2.png" alt></p><ol start="2"><li>Once you log-in, you may be directed to the Particle home page. If so, <a href="https://build.particle.io" target="_blank" rel="noopener noreferrer">click here to navigate<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> back to Particle Build.</li></ol><p><img src="/assets/img/particle-home.a4565b9c.png" alt></p><ol start="3"><li>When navigating to the Web IDE (Build), the first thing you'll see is an empty editor window for a new project and a prompt to give that project a name.</li></ol><p><img src="/assets/img/newproject.68e3a433.png" alt></p><ol start="4"><li>In the Current App textbox, give your app the name &quot;<em>MyTempApp</em>&quot; and hit enter.</li></ol><p><img src="/assets/img/projectname.027be1b1.png" alt></p><ol start="5"><li>Once you've given your project a name, you're ready to code!</li></ol><p><img src="/assets/img/projectnamed.cafdfc0c.png" alt></p><h2 id="the-setup-and-loop-functions"><a href="#the-setup-and-loop-functions" aria-hidden="true" class="header-anchor">#</a> The <code>setup()</code> and <code>loop()</code> functions</h2><p>Before we dive into our first bit of code, a brief word about the two functions that were auto-populated into your new app. If you've done Arduino or Particle development before, you're already familiar with these and can skip ahead. If not, read on.</p><p>Every Particle application <em>must</em> have two functions in the main file (sometimes called a &quot;sketch&quot;): <code>setup()</code> and <code>loop()</code>. Both of these functions are called by the Particle Device OS.</p><p>True to its name, <code>setup()</code> runs only only once when the device starts up and is used for initializing buttons, sensors and other things needed to get your project ready to execute.</p><p><code>loop()</code>, on the other hand, runs over and over again as long as your firmware is running on the device. When the function is called by the device OS, the code inside executes sequentially until it reaches the closing brace of the function, before being called again.</p><p>While the speed at which the <code>loop()</code> function executes is determined by the specific hardware and the time needed to execute the use code you've written in the function, it's important to know that, much of the time, this function will run very fast.</p><p>The bulk of your program, from state management, handling user input, reading from sensors and more will take place inside of the <code>loop()</code> function. It can take a bit of getting used to if you're not familiar with this style of development, but once you become comfortable, you'll enjoy the power this control provides you as a firmware developer.</p><h2 id="install-the-onewire-library"><a href="#install-the-onewire-library" aria-hidden="true" class="header-anchor">#</a> Install the Onewire library</h2><ol><li>Before reading from the temp sensors, we need to install the onewire library. In the Build IDE, you can work with libraries by clicking on the icon that looks like a bookmark.</li></ol><p><img src="data:image/png;base64,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" alt></p><ol start="2"><li>The libraries shows a list of Particle provided and community libraries, as well as a search box. Type &quot;onewire&quot; in the box.</li></ol><p><img src="/assets/img/07-libraries-search.48e1a18b.png" alt></p><p><img src="/assets/img/08-onewire.a3973f15.png" alt></p><ol start="3"><li>Click on <code>OneWire</code> (first result) and the &quot;Include in Project&quot; button.</li></ol><p><img src="/assets/img/09-include.62e05488.png" alt></p><ol start="4"><li>You'll be asked to choose a project in which to include the OneWire library. Select your new &quot;MyTempApp&quot; application.</li></ol><p><img src="/assets/img/10-whichapp.9f282986.png" alt></p><ol start="5"><li>Click &quot;Confirm&quot; on the next screen.</li></ol><p><img src="/assets/img/11-confirm.ce1c9757.png" alt></p><ol start="6"><li>You'll be directed back to your app. Notice that <code>OneWire</code> is now listed as an included library and has been <code>#</code> included in the code for your app.</li></ol><p><img src="/assets/img/12-included.e9bf1efb.png" alt></p><h2 id="read-from-the-temperature-sensor"><a href="#read-from-the-temperature-sensor" aria-hidden="true" class="header-anchor">#</a> Read from the temperature sensor</h2><ol><li>The <code>OneWire</code> library provides an easy-to-use helper for the DS18-style temperature sensors, so we'll include that. Remove the <code>#include</code> line for <code>OneWire.h</code> and add the following.</li></ol><div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;DS18.h&quot;</span></span>
</code></pre></div><ol start="2"><li>Initialize the sensor by placing the following outside of the <code>setup()</code> and <code>loop()</code> functions. The class initializer takes one parameter, the pin to use on the Photon fo reading analog sensor values. Since we wired the device to D4, that's the pin we'll use.</li></ol><div class="language-cpp extra-class"><pre class="language-cpp"><code>DS18 <span class="token function">tempSensor</span><span class="token punctuation">(</span>D4<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>Let's also create a global variable to hold the temperature. Add the following just after the sensor initialization line.</li></ol><div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> temp<span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>Next, in the loop, add the following to read from the temp sensor in fahrenheit and set it to our temp variable. The <code>delay</code> function allows us to pause program execution for a certain number of milliseconds (5000 = 5 seconds) before continuing.</li></ol><div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>tempSensor<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    temp <span class="token operator">=</span> <span class="token punctuation">(</span>tempSensor<span class="token punctuation">.</span><span class="token function">fahrenheit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>

    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="5"><li>Before we move on, let's also use the onboard LED wired to pin D7. First, we'll use the <code>pinMode</code> function to denote that a given pin (<code>D7</code> in this case) will be used as an output by our program. Add the following to your <code>setup</code> function:</li></ol><div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token function">pinMode</span><span class="token punctuation">(</span>D7<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="6"><li>Next, let's modify the <code>loop</code> to light up the LED each time we're about to take a temperature reading. modify your <code>loop</code> to look like the following:</li></ol><div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>tempSensor<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">digitalWrite</span><span class="token punctuation">(</span>D7<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
    temp <span class="token operator">=</span> <span class="token punctuation">(</span>tempSensor<span class="token punctuation">.</span><span class="token function">fahrenheit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>

    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">digitalWrite</span><span class="token punctuation">(</span>D7<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>In an embedded application, we light up an LED by calling <code>digitalWrite</code> ane setting the pin <code>HIGH</code>, meaning we're applying a voltage to the pin, which supplies that voltage to the LED. We then take the temperature reading. Then, we introduce a one second delay so that the status light is on long enough to be human-observable. Once the delay elapses, we turn the LED off by calling <code>digitalWrite</code> again and set the pin to <code>LOW</code>, which turns off voltage to the pin and thus, the LED.</p></div><ol start="7"><li>Now, let's flash this firmware to your device. Click the target icon in the left menu to open the Devices tab.</li></ol><p><img src="data:image/png;base64,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" alt></p><ol start="8"><li>Find your Photon. If you only have a single device, it will be selected by default and you can skip to the next step. If you have mutiple, click the star icon next to the name of your new Photon to select it as your current device.</li></ol><p><img src="/assets/img/activeDevice.c305fff1.png" alt></p><ol start="9"><li>Click the lightning bolt icon to flash your firmware to the device. You'll see the onboard RGB LED flash magenta and green several times as new Device OS firmware is applied. Once your firmware is applied and the device restarts, the LED will resume breathing cyan and you should see the blue LED light up every five seconds, indicating that a temperature reading has been taken.</li></ol><p><img src="/assets/img/flashCode.4d86c73c.png" alt></p><p><img src="/assets/img/d7blink.2b6135e3.gif" alt></p><h2 id="add-particle-primitives-to-your-app"><a href="#add-particle-primitives-to-your-app" aria-hidden="true" class="header-anchor">#</a> Add Particle primitives to your app</h2><p>Flashing an LED when we take a temperature reading is ok, but wouldn't it be nice if we could actually see the temperature readings we've taken somehow? With Particle Device Cloud primitives, we can do just that. First, we're going to expose our temperature variable to the Device Cloud, then we'll introduce a function for triggering device readings on-demand. Finally, we'll publish an event each time a reading is taken so that other apps can subscribe to the sensor data our device is collecting!</p><h3 id="adding-a-variable"><a href="#adding-a-variable" aria-hidden="true" class="header-anchor">#</a> Adding a Variable</h3><ol><li>In the <code>setup</code> function, add a <code>Particle.variable</code>. This class method tells the Particle device cloud that a variable named <code>tempF</code> should be created to hold the current value of the <code>temp</code> variable in our sketch.</li></ol><div class="language-cpp extra-class"><pre class="language-cpp"><code>Particle<span class="token punctuation">.</span><span class="token function">variable</span><span class="token punctuation">(</span><span class="token string">&quot;tempF&quot;</span><span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>Click the flash icon to load the latest firmware. After your device resets, navigate to <a href="https://console.particle.io" target="_blank" rel="noopener noreferrer">console.particle.io<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and select your Photon. This will bring up the dashboard for your device, which shows events, device vitals, and more.</li></ol><p><img src="/assets/img/devicePage.3b6c058a.png" alt></p><ol start="3"><li>On the right side of your device dashboard, you'll notice two boxes for Functions and Variables. We haven't added a function yet, but you should see <code>tempF</code> listed under variables.</li></ol><p><img src="/assets/img/primitivesList.df76ef2c.png" alt></p><ol start="4"><li>Click on the <code>Get</code> button and you should see a value returned. You're reading a sensor value from the Internet!</li></ol><p><img src="data:image/png;base64,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" alt></p><h3 id="adding-a-function"><a href="#adding-a-function" aria-hidden="true" class="header-anchor">#</a> Adding a Function</h3><ol start="5"><li>Now let's add a function that we can call to check the temperature reading, on demand. Along the way, we're going to clean up our existing code a bit. Start by adding the following to the top of your file, just after the <code>#include</code>:</li></ol><div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">define</span> TEMP_CHECK_INTERVAL 10000</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>#define</code> is a text substitution pre-processor directive. It tells the compiler to replace every instance of a text value (on the left) with another value (on the right). In the case above, anywhere we use <code>TEMP_CHECK_INTERVAL</code> will be replaced with the number <code>10000</code>. It's like using a constant, except we're not using any memory in allocating a variable for the program!</p></div><ol start="6"><li>Next, let's add a new variable we can use to track the last time we checked the temperature. Add the following line right after our <code>temp</code> variable.</li></ol><div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">unsigned</span> <span class="token keyword">long</span> lastTempCheck <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre></div><ol start="7"><li>Now, lets add a function for checking the temperature, since we'll end up needing this in a few places. Just before the <code>setup</code> function, add a new <code>checkTemp</code> function.</li></ol><div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">checkTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>tempSensor<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    temp <span class="token operator">=</span> <span class="token punctuation">(</span>tempSensor<span class="token punctuation">.</span><span class="token function">fahrenheit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="8"><li>Next, we need to clean up our loop a bit. We were using <code>delay</code> previously to pause execution between checks, but this isn't ideal because it blocks program execution. A better way to manage delays between actions in an embedded system is to use <code>millis()</code> and timing variables, like the ones we added earlier. <code>millis()</code> returns the number of milliseconds that have elapsed since your program started running, and it can be very useful when you need to manage time intervals.</li></ol><p>Change your <code>loop</code> to look like the following:</p><div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>lastTempCheck <span class="token operator">+</span> TEMP_CHECK_INTERVAL <span class="token operator">&lt;</span> <span class="token function">millis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    lastTempCheck <span class="token operator">=</span> <span class="token function">millis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">checkTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The <code>if</code> statement is checking to see how long it's been since we took a temperature reading. Basically, if 10 seconds have elapsed (our <code>TEMP_CHECK_INTERVAL</code> value), we'll set the <code>lastTempCheck</code> to a new value and then check the temperature sensor.</p><ol start="9"><li>Since our first temp check won't happen in the first 10 seconds, we can add an initial check to our <code>setup</code>.</li></ol><div class="language-cpp extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br></div><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Particle<span class="token punctuation">.</span><span class="token function">variable</span><span class="token punctuation">(</span><span class="token string">&quot;tempF&quot;</span><span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">checkTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="10"><li>Now we can add our cloud function. <code>Particle.function</code> expects a name and a local function that will handle calls from the Device Cloud. Add the following to your <code>setup</code> function.</li></ol><div class="language-cpp extra-class"><pre class="language-cpp"><code>Particle<span class="token punctuation">.</span><span class="token function">function</span><span class="token punctuation">(</span><span class="token string">&quot;checkTemp&quot;</span><span class="token punctuation">,</span> checkHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="11"><li>And, finally, we'll add the function. All functions to be used as cloud functions <em>MUST</em> return an <code>int</code> and take a single <code>String</code> parameter, which is why the signature is different than our <code>checkTemp</code> function.</li></ol><div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> <span class="token function">checkHandler</span><span class="token punctuation">(</span>String command<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">checkTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>For the sake of clarity, we've wrapped the existing <code>checkTemp</code> function in our cloud function handler. How could you refactor this so we've only have one helper function for local calls and the device cloud?</p></div><ol start="12"><li>Now, flash the firmware to your device and head back to the console. Refresh your device screen and you should now see your <code>checkTemp</code> function.</li></ol><p><img src="/assets/img/newFunc.d6818558.png" alt></p><ol start="13"><li>Click on <code>Call</code> to execute the function. Then, click <code>Get</code> next to the <code>tempF</code> variable to see the result.</li></ol><p><img src="/assets/img/callFunc.a877312a.png" alt></p><h3 id="publishing-an-event"><a href="#publishing-an-event" aria-hidden="true" class="header-anchor">#</a> Publishing an event</h3><p>Before we move on, let's explore one more Particle primitive, <code>publish</code>, which allows us to fire events that we can subscribe to from other devices, web and mobile apps, or stream into cloud services like Azure!</p><ol start="14"><li>Each time we check the temp, we want to publish an event for all subscribers. <code>Particle.publish</code> makes this easy. Add the following to your <code>checkTemp</code> function, inside the <code>if</code> statement.</li></ol><div class="language-cpp extra-class"><pre class="language-cpp"><code>Particle<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">&quot;temp&quot;</span><span class="token punctuation">,</span> <span class="token function">String</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">,</span> PRIVATE<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="15"><li>And that's all you need to do to publish events! Flash the firmware to your device go back to your device page in the Console. In the event logs, you'll see new temp events come across every ten seconds.</li></ol><p><img src="/assets/img/eventlist.f547b0e7.png" alt></p><hr><p>Congratulations on getting your devices connected to the Particle Device Cloud! Now we're ready to take our exploration further and get our sensor data into Azure!</p></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/particle-iot/maker-kit-workshop/edit/master/docs/ch2.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/docs/ch1.html" class="prev">
          Chapter 1: Claiming your device
        </a></span><span class="next"><a href="/docs/ch3.html">
          Chapter 3: Connecting the Particle Device Cloud to Azure
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/3.43b75f49.js" defer></script><script src="/assets/js/app.f96e0021.js" defer></script>
  </body>
</html>
